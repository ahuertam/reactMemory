(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{284:function(module,exports,__webpack_require__){__webpack_require__(285),__webpack_require__(431),__webpack_require__(432),module.exports=__webpack_require__(434)},349:function(module,exports){},432:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__(433)},433:function(module,exports,__webpack_require__){},434:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var _storybook_react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(74);module._StorybookPreserveDecorators=!0,Object(_storybook_react__WEBPACK_IMPORTED_MODULE_0__.configure)([__webpack_require__(616),__webpack_require__(617)],module)}.call(this,__webpack_require__(223)(module))},46:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return mock})),__webpack_require__.d(__webpack_exports__,"c",(function(){return mock1})),__webpack_require__.d(__webpack_exports__,"e",(function(){return mock3})),__webpack_require__.d(__webpack_exports__,"d",(function(){return mock2})),__webpack_require__.d(__webpack_exports__,"a",(function(){return messages}));var mock={cardsImages:[{description:"",title:"CORAZON",image:"5e4d39c95cd915000f27c6eb"},{description:"",title:"CUADRADO",image:"5e4d39ea5cd915000f27c6ec"},{description:"",title:"LUNA",image:"5e4d3a035cd915000f27c6ed"},{description:"",title:"ROMBO",image:"5e4d3a145cd915000f27c6ee"}],background:{imgId:"5e4d3a395cd915000f27c6ef"},time:100,repeat:2,backImage:{imgId:"5e4d39175cd915000f27c6ea"}},mock1={cardsImages:[{description:"",title:"",image:"5e550ef0366c28000f563d79"},{description:"",title:"",image:"5e550f74366c28000f563d7a"},{description:"",title:"",image:"5e550f98f861f3000f303e9e"},{description:"",title:"",image:"5e550fabf861f3000f303e9f"}],background:{imgId:"5e4d3a395cd915000f27c6ef"},time:100,repeat:8,backImage:{imgId:"5e550f86366c28000f563d7b"}},mock3={cardsImages:[{title:"",description:"",image:"5e4d39c95cd915000f27c6eb"}],background:{imgId:"5e4d3a395cd915000f27c6ef"},time:100,repeat:2,backImage:{imgId:"5e4d39175cd915000f27c6ea"}},mock2={cardsImages:[{description:"",title:"",image:"5e550ef0366c28000f563d79"},{description:"",title:"",image:"5e550f74366c28000f563d7a"},{description:"",title:"",image:"5e550f98f861f3000f303e9e"},{description:"",title:"",image:"5e550fabf861f3000f303e9f"}],background:{imgId:"5e4d3a395cd915000f27c6ef"},time:100,repeat:2,backImage:{imgId:"5e550f86366c28000f563d7b"}},messages={title:"Titulo de prueba",hint:"Texto de pista",instructions:"Texto de informacion",correctSolution:"Texto de solucion correcta!",description:"TEXTO GENERICO DE EXPLICACIÓN",wrongSolution:"Texto de solucion incorrecta!",confirm:"Estas seguro que quieres continuar?",continue:"Continuar",cancel:"Cancelar","puzzle.memory.congratulations":"¡Has resuelto el desafio! Consectetur adipiscing elit. Sed quis diam."}},616:function(module,exports){function webpackEmptyContext(req){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}webpackEmptyContext.keys=function(){return[]},webpackEmptyContext.resolve=webpackEmptyContext,module.exports=webpackEmptyContext,webpackEmptyContext.id=616},617:function(module,exports,__webpack_require__){var map={"./components/memory-puzzle-component-game/stories/index.story.js":618};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=617},618:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){__webpack_require__(41);var react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__),_storybook_react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(74),_storybook_addon_contexts_react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(282),react_intl__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(45),_src_index__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(96),_MockProvider__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(76),_mockForProps__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(46);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_2__.addDecorator)(Object(_storybook_addon_contexts_react__WEBPACK_IMPORTED_MODULE_3__.a)()),Object(_storybook_react__WEBPACK_IMPORTED_MODULE_2__.addDecorator)((function(story){return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_MockProvider__WEBPACK_IMPORTED_MODULE_6__.b,null,story())})),Object(_storybook_react__WEBPACK_IMPORTED_MODULE_2__.storiesOf)("Memory Puzzle Component|basic puzzle",module).add("Memory puzzle ultraEasy",(function(){return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react_intl__WEBPACK_IMPORTED_MODULE_4__.a,{locale:"en",messages:_mockForProps__WEBPACK_IMPORTED_MODULE_7__.a},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_src_index__WEBPACK_IMPORTED_MODULE_5__.a,Object.assign({},_mockForProps__WEBPACK_IMPORTED_MODULE_7__.e,{context:_MockProvider__WEBPACK_IMPORTED_MODULE_6__.a})))})).add("Memory puzzle easy slow",(function(){return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react_intl__WEBPACK_IMPORTED_MODULE_4__.a,{locale:"en",messages:_mockForProps__WEBPACK_IMPORTED_MODULE_7__.a},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_src_index__WEBPACK_IMPORTED_MODULE_5__.a,Object.assign({},_mockForProps__WEBPACK_IMPORTED_MODULE_7__.b,{context:_MockProvider__WEBPACK_IMPORTED_MODULE_6__.a})))})).add("Memory puzzle alternative art",(function(){return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react_intl__WEBPACK_IMPORTED_MODULE_4__.a,{locale:"en",messages:_mockForProps__WEBPACK_IMPORTED_MODULE_7__.a},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_src_index__WEBPACK_IMPORTED_MODULE_5__.a,Object.assign({},_mockForProps__WEBPACK_IMPORTED_MODULE_7__.d,{context:_MockProvider__WEBPACK_IMPORTED_MODULE_6__.a})))})).add("Memory puzzle alternative art Massive",(function(){return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react_intl__WEBPACK_IMPORTED_MODULE_4__.a,{locale:"en",messages:_mockForProps__WEBPACK_IMPORTED_MODULE_7__.a},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_src_index__WEBPACK_IMPORTED_MODULE_5__.a,Object.assign({},_mockForProps__WEBPACK_IMPORTED_MODULE_7__.c,{context:_MockProvider__WEBPACK_IMPORTED_MODULE_6__.a})))}))}.call(this,__webpack_require__(223)(module))},76:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return Context})),__webpack_require__.d(__webpack_exports__,"b",(function(){return MockProvider}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),Context=Object(react__WEBPACK_IMPORTED_MODULE_0__.createContext)(),MockProvider=function(_ref){var children=_ref.children;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(Context.Provider,{value:{documentsDict:{"5e4d39175cd915000f27c6ea":{url:"https://i.imgur.com/a7EDcwg.png"},"5e4d3a035cd915000f27c6ed":{url:"https://i.imgur.com/W7knvV2.png"},"5e4d3a145cd915000f27c6ee":{url:"https://i.imgur.com/Lw9uGI0.png"},"5e4d39c95cd915000f27c6eb":{url:"https://i.imgur.com/yPCJ07F.png"},"5e4d39ea5cd915000f27c6ec":{url:"https://i.imgur.com/DPMU60z.png"},"5e4d3a395cd915000f27c6ef":{url:"https://i.imgur.com/7zyk7bK.png"},"5e550ef0366c28000f563d79":{url:"https://i.imgur.com/swnA1cb.png"},"5e550f74366c28000f563d7a":{url:"https://i.imgur.com/IxRFF0L.png"},"5e550f86366c28000f563d7b":{url:"https://i.imgur.com/X7X3fel.png"},"5e550f98f861f3000f303e9e":{url:"https://i.imgur.com/eEGa5FM.png"},"5e550fabf861f3000f303e9f":{url:"https://i.imgur.com/OxLqsBO.png"}},references:{modelFactory:{},animationManager:{},presetCollector:{}}}}," ",children)};MockProvider.displayName="MockProvider",MockProvider.__docgenInfo={description:"",methods:[],displayName:"MockProvider",props:{children:{type:{name:"node"},required:!0,description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/memory-puzzle-component-game/stories/MockProvider.js"]={name:"MockProvider",docgenInfo:MockProvider.__docgenInfo,path:"src/components/memory-puzzle-component-game/stories/MockProvider.js"})},96:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(15),__webpack_require__(19),__webpack_require__(17),__webpack_require__(68),__webpack_require__(162),__webpack_require__(40),__webpack_require__(269),__webpack_require__(164),__webpack_require__(631);var toConsumableArray=__webpack_require__(283),slicedToArray=__webpack_require__(35),react=__webpack_require__(0),react_default=__webpack_require__.n(react),lib=__webpack_require__(45),MemoryCard=function(_ref){var id=_ref.id,width=_ref.width,height=_ref.height,back=_ref.back,front=_ref.front,flipped=_ref.flipped,handleClick=_ref.handleClick,documentsDict=_ref.documentsDict,disabled=_ref.disabled,solved=_ref.solved,title=_ref.title,description=_ref.description,resolvedIdImg=documentsDict[front]?documentsDict[front].url:null,backImage=documentsDict[back]?documentsDict[back].url:null,turnedBack=!(!flipped&&!solved);return react_default.a.createElement("div",{className:"card",onClick:function onClick(){return disabled?null:handleClick(id)}},react_default.a.createElement("div",{className:"card-content"},turnedBack&&title&&react_default.a.createElement("span",{className:"title"},title),react_default.a.createElement("img",{alt:"",style:{height:height,width:width},src:turnedBack?resolvedIdImg:backImage}),turnedBack&&description&&react_default.a.createElement("span",{className:"description"},description)))};MemoryCard.displayName="MemoryCard",MemoryCard.defaultProps={},MemoryCard.__docgenInfo={description:"",methods:[],displayName:"MemoryCard",props:{handleClick:{type:{name:"func"},required:!0,description:""},id:{type:{name:"string"},required:!0,description:""},flipped:{type:{name:"bool"},required:!0,description:""},solved:{type:{name:"bool"},required:!0,description:""},height:{type:{name:"number"},required:!0,description:""},width:{type:{name:"number"},required:!0,description:""},disabled:{type:{name:"bool"},required:!0,description:""}}};var src_MemoryCard=MemoryCard;"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/memory-puzzle-component-game/src/MemoryCard/index.js"]={name:"MemoryCard",docgenInfo:MemoryCard.__docgenInfo,path:"src/components/memory-puzzle-component-game/src/MemoryCard/index.js"});var MemoryBoard=function(_ref){var dimension=_ref.dimension,cards=_ref.cards,backImage=_ref.backImage,solved=_ref.solved,disabled=_ref.disabled,documentsDict=_ref.documentsDict,_handleClick=_ref.handleClick,flipped=_ref.flipped;return react_default.a.createElement("ul",{className:"card-board "},cards.map((function(card,index){return react_default.a.createElement(src_MemoryCard,{documentsDict:documentsDict,id:card.id,width:dimension/4.5,height:dimension/4.5,back:backImage,front:card.image,title:card.title,description:card.description,solved:solved.includes(card.id),flipped:flipped.includes(card.id),disabled:disabled||solved.includes(card.id),handleClick:function handleClick(){return _handleClick(card.id,index)}})})))};MemoryBoard.displayName="MemoryBoard",MemoryBoard.defaultProps={backImage:""},MemoryBoard.__docgenInfo={description:"",methods:[],displayName:"MemoryBoard",props:{backImage:{defaultValue:{value:"''",computed:!1},type:{name:"string"},required:!1,description:""},disabled:{type:{name:"bool"},required:!0,description:""},dimension:{type:{name:"number"},required:!0,description:""},cards:{type:{name:"arrayOf",value:{name:"shape",value:{}}},required:!0,description:""},flipped:{type:{name:"arrayOf",value:{name:"string"}},required:!0,description:""},solved:{type:{name:"arrayOf",value:{name:"string"}},required:!0,description:""},handleClick:{type:{name:"func"},required:!0,description:""}}};var src_MemoryBoard=Object(lib.b)(MemoryBoard);"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/memory-puzzle-component-game/src/MemoryBoard/index.js"]={name:"MemoryBoard",docgenInfo:MemoryBoard.__docgenInfo,path:"src/components/memory-puzzle-component-game/src/MemoryBoard/index.js"});var defaultBackground="https://s3-eu-west-1.amazonaws.com/int.statics.gamelearn.io/gamelearn/resources/puzzle-login.png",_ref2=react_default.a.createElement("span",{className:"title"},"Memory Puzzle"),_ref3=react_default.a.createElement("br",null),_ref4=react_default.a.createElement("br",null),_ref5=react_default.a.createElement("br",null),MemoryPuzzleComponent=function(_ref){_ref.info;var context=_ref.context,cardsImages=(_ref.nodeId,_ref.cardsImages),repeat=_ref.repeat,backImage=_ref.backImage,background=_ref.background,time=_ref.time,_reactContext$documen=(_ref.intl,Object(react.useContext)(context).documentsDict),documentsDict=void 0===_reactContext$documen?null:_reactContext$documen,_useState=Object(react.useState)([]),_useState2=Object(slicedToArray.a)(_useState,2),flipped=_useState2[0],setFlipped=_useState2[1],_useState3=Object(react.useState)(400),_useState4=Object(slicedToArray.a)(_useState3,2),dimension=_useState4[0],setDimensions=_useState4[1],_useState5=Object(react.useState)([]),_useState6=Object(slicedToArray.a)(_useState5,2),cards=_useState6[0],setCards=_useState6[1],_useState7=Object(react.useState)([]),_useState8=Object(slicedToArray.a)(_useState7,2),solved=_useState8[0],setSolved=_useState8[1],_useState9=Object(react.useState)(!1),_useState10=Object(slicedToArray.a)(_useState9,2),disabled=_useState10[0],setDisabled=_useState10[1],_useState11=Object(react.useState)(1),_useState12=Object(slicedToArray.a)(_useState11,2),countSolved=_useState12[0],setCountSolved=_useState12[1],_useState13=Object(react.useState)(0),_useState14=Object(slicedToArray.a)(_useState13,2),movesDone=_useState14[0],setMovesDone=_useState14[1],_useState15=Object(react.useState)({width:"100%"}),_useState16=Object(slicedToArray.a)(_useState15,2),backgroundStyle=_useState16[0],setBackgroundStyle=_useState16[1],_useState17=Object(react.useState)(time),_useState18=Object(slicedToArray.a)(_useState17,2),timeLeft=_useState18[0],setTimeLeft=_useState18[1];Object(react.useEffect)((function(){0<timeLeft&&setTimeout((function(){return setTimeLeft(timeLeft-1)}),1e3)}),[timeLeft]);background.imgId;var backCardImageId=backImage.imgId;Object(react.useEffect)((function(){var currentBackgroundImage,backgroundImage=function(){return documentsDict&&documentsDict[background.imgId]?documentsDict[background.imgId].url:defaultBackground};currentBackgroundImage="url(".concat(backgroundImage||defaultBackground,")"),setBackgroundStyle({width:"100%",backgroundImage:currentBackgroundImage})}),[background.imgId,documentsDict]);var reset=function(){setFlipped([]),setDisabled(!1)},resizeBoard=function(){setDimensions(Math.min(document.documentElement.clientWidth,document.documentElement.clientHeigth))};return Object(react.useEffect)((function(){resizeBoard(),setCards(function initializeDeck(){for(var unitaryCardsSize=cardsImages.length,newCardsArray=[],i=0;i<unitaryCardsSize;i+=1)for(var e=0;e<repeat;e+=1){var title=void 0!==cardsImages[i].title&&""!==cardsImages[i].title?cardsImages[i].title:null,description=void 0!==cardsImages[i].description&&""!==cardsImages[i].description?cardsImages[i].description:null;newCardsArray.push({id:"".concat(i).concat(e),pairId:i,image:cardsImages[i].image,title:title,description:description})}return newCardsArray.map((function(a){return[Math.random(),a]})).sort((function(a,b){return a[0]-b[0]})).map((function(a){return a[1]}))}())}),[cardsImages,repeat]),Object(react.useEffect)((function(){var resizeLinstener=window.addEventListener("resize",resizeBoard);return function(){return window.removeEventListener("resize",resizeLinstener)}})),react_default.a.createElement("div",null,_ref2,_ref3,react_default.a.createElement("span",{className:"title"},"Moves: ",movesDone),_ref4,react_default.a.createElement("span",{className:"title"},"Solved: ",countSolved),_ref5,react_default.a.createElement("span",{className:"title"},"Time: ",timeLeft),react_default.a.createElement("div",{style:backgroundStyle},react_default.a.createElement(src_MemoryBoard,{documentsDict:documentsDict,dimension:dimension,cards:cards,backImage:backCardImageId,solved:solved,flipped:flipped,handleClick:function handleClick(id,index){if(setDisabled(!0),0===flipped.length)setFlipped([id]),setDisabled(!1);else{if(function(id){flipped.includes(id)}(id))return;setFlipped([flipped[0],id]),!function(id,index){var clickedCardPairId=cards[index].pairId,flippedCardPairId=cards.find((function(card){return card.id===flipped[0]})).pairId;return setMovesDone(movesDone+1),clickedCardPairId===flippedCardPairId}(0,index)?setTimeout(reset,500):(setSolved([].concat(Object(toConsumableArray.a)(solved),[flipped[0],id])),reset(),setCountSolved(countSolved+1),countSolved===cardsImages.length&&setTimeout((function(){alert("isEndGame")}),1e3))}},disabled:disabled})))};MemoryPuzzleComponent.displayName="MemoryPuzzleComponent",MemoryPuzzleComponent.defaultProps={cardsImages:[],backImage:{},time:0,context:{},nodeId:0,repeat:1},MemoryPuzzleComponent.__docgenInfo={description:"",methods:[],displayName:"MemoryPuzzleComponent",props:{cardsImages:{defaultValue:{value:"[]",computed:!1},type:{name:"shape",value:"[]",computed:!0},required:!1,description:""},backImage:{defaultValue:{value:"{}",computed:!1},type:{name:"shape",value:{}},required:!1,description:""},time:{defaultValue:{value:"0",computed:!1},type:{name:"number"},required:!1,description:""},context:{defaultValue:{value:"{}",computed:!1},type:{name:"shape",value:{}},required:!1,description:""},nodeId:{defaultValue:{value:"0",computed:!1},type:{name:"number"},required:!1,description:""},repeat:{defaultValue:{value:"1",computed:!1},type:{name:"number"},required:!1,description:""}}};var src_MemoryPuzzleComponent=Object(lib.b)(MemoryPuzzleComponent);"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/memory-puzzle-component-game/src/MemoryPuzzleComponent/index.js"]={name:"MemoryPuzzleComponent",docgenInfo:MemoryPuzzleComponent.__docgenInfo,path:"src/components/memory-puzzle-component-game/src/MemoryPuzzleComponent/index.js"});__webpack_exports__.a=src_MemoryPuzzleComponent}},[[284,1,2]]]);
//# sourceMappingURL=main.9297fa9097abbe2da4b8.bundle.js.map